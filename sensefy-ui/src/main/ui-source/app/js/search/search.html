<div class="row">
    <div class="column">
        <div class="ui inverted blue menu" id="header">
            <img src="images/SensefyLogo.png" alt="Sensefy Logo" class="open left">
            <img src="images/SensefyLogoMob.png" alt="Sensefy Logo" class="mob">

            <div class="ui action left icon input search-header">
                <div class="ui search">
                    <div class="ui search">
                        <div class="ui icon input">
                            <input class="prompt" type="text" style="{{style}}" ng-style="style" role="search"
                                   id="searchTerm" name="searchTerm" autofocus="autofocus"
                                   ng-model="queryTerm">
                            <i class="search icon"></i>
                            <i class="remove circle icon pe-remove-keyword pe-remove-keyword-switch"></i>
                        </div>
                        <div class="ui yellow button ser-btn"  tabindex="0" ng-click="queryFunction()">Search</div>
                    </div>
                </div>
            </div>

            <div class="right menu" id="menu">
                <div class="ui mobile dropdown link item top-right-menu">
                    <i class="user icon"></i>
                    {{user.username}}
                    <i class="dropdown icon"></i>
                    <div class="menu" ng-controller="search" >
                        <a class="item">Language</a>
                        <a class="item indent" ng-click="changeLanguage('en-us')">english</a>
                        <a class="item indent" ng-click="changeLanguage('es-es')">spanish</a>
                        <div class="ui divider"></div>
                        <div class="item">
                            <i class="dropdown icon" tabindex="0"></i>
                            <span class="text">Settings</span>
                            <div class="menu transition hidden">
                                <div class="item">Personal</div>
                                <div class="item">Search</div>
                            </div>
                        </div>
                        <div class="ui divider"></div>
                        <a class="item" ng-click="logout()">logout</a>
                        <!--a class="item" href="/searchsui/logout" target="_self">logout</a-->
                    </div>
                </div>
                <a class="item"><span>Language: </span>&nbsp;English<span ng-bind="currentLanguage"></span></a>
            </div>
        </div>
    </div>
</div>

<div class="one column row ds-wrapper" ng-show="(totalDocuments && totalDocuments > 0)">
    <div class="sixteen wide column data-sources">
        <div class="ui collapsible menu ds">
            <div class="container">
                <div class="header"><a class="left floated item brand"></a>
                    <div class="ui mini right floated button"><i class="list icon"></i></div>
                </div>
                <div class="content ds-bar">
                    <div class="ui tabular menu">
                        <a ng-repeat="source in sources" data-datasource-tab="{{source.value}}" data-dynamic-class="{{source.value}}"
                           ng-class="{active: source.active}"
                           ng-click="setActiveSource(source)" tabindex="0"
                           class="item">
                            <span></span>
                            <sup class="ds-value" title="1404 results"></sup>
                        </a>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<div class="two column row result-wrapper">


    <div id="search_box_container"></div>
    <div id="search_query">&nbsp;</div>

    <script type="text/javascript" charset="utf-8">
        $(document).ready(function() {
            var abc = ["Organisation","People","Location"];

            window.visualSearch = VS.init({
                container  : $('#search_box_container'),
                //query      : 'Type: "People" "U.S. State": "New York" account: 5-samuel',
                query      : 'Type: "People"',
                showFacets : false,
                unquotable : [
                    'text',
                    'account',
                    'filter',
                    'access'
                ],
                callbacks  : {
                    search : function(query, searchCollection) {
                        var $query = $('#search_query');
                        var count  = searchCollection.size();
                        $query.stop().animate({opacity : 1}, {duration: 300, queue: false});
                        $query.html('<br><br><br><span class="raquo">&raquo;</span> You searched for: ' +
                        '<b>' + (query || '<i>nothing</i>') + '</b>. ' +
                        '(' + count + ' facet' + (count==1 ? '' : 's') + ')');
                        clearTimeout(window.queryHideDelay);
                        window.queryHideDelay = setTimeout(function() {
                            $query.animate({
                                opacity : 0
                            }, {
                                duration: 1000,
                                queue: false
                            });
                        }, 2000);
                    },
                    facetMatches : function(callback) {
                        callback([
                            'type', 'title'
                            //'account', 'filter', 'access', 'title', 'type',
                            //{ label: 'city',       category: 'location' },
                            //{ label: 'country',    category: 'location' },
                            //{ label: 'U.S. State', category: 'location' },
                        ]);
                    },
                    valueMatches : function(facet, searchTerm, callback) {
                        switch (facet) {
                            case 'account':
                                callback([
                                    { value: '1-amanda', label: 'Amanda' },
                                    { value: '2-aron',   label: 'Aron' },
                                    { value: '3-eric',   label: 'Eric' },
                                    { value: '4-jeremy', label: 'Jeremy' },
                                    { value: '5-samuel', label: 'Samuel' },
                                    { value: '6-scott',  label: 'Scott' }
                                ]);
                                break;
                            case 'filter':
                                callback(['published', 'unpublished', 'draft']);
                                break;
                            case 'access':
                                callback(['public', 'private', 'protected']);
                                break;
                            case 'title':
                                callback([
                                    'Pentagon Papers',
                                    'CoffeeScript Manual',
                                    'Laboratory for Object Oriented Thinking',
                                    'A Repository Grows in Brooklyn',
                                    'Java programming',
                                    'Java script for better life',
                                    'CSS3 for animations'
                                ]);
                                break;
                            case 'city':
                                callback([
                                    'Cleveland',
                                    'New York City',
                                    'Brooklyn',
                                    'Manhattan',
                                    'Queens',
                                    'The Bronx',
                                    'Staten Island',
                                    'San Francisco',
                                    'Los Angeles',
                                    'Seattle',
                                    'London',
                                    'Portland',
                                    'Chicago',
                                    'Boston'
                                ]);
                                break;
                            case 'U.S. State':
                                callback([
                                    "Alabama", "Alaska", "Arizona", "Arkansas", "California",
                                    "Colorado", "Connecticut", "Delaware", "District of Columbia", "Florida",
                                    "Georgia", "Guam", "Hawaii", "Idaho", "Illinois",
                                    "Indiana", "Iowa", "Kansas", "Kentucky", "Louisiana",
                                    "Maine", "Maryland", "Massachusetts", "Michigan", "Minnesota",
                                    "Mississippi", "Missouri", "Montana", "Nebraska", "Nevada",
                                    "New Hampshire", "New Jersey", "New Mexico", "New York", "North Carolina",
                                    "North Dakota", "Ohio", "Oklahoma", "Oregon", "Pennsylvania",
                                    "Puerto Rico", "Rhode Island", "South Carolina", "South Dakota", "Tennessee",
                                    "Texas", "Utah", "Vermont", "Virginia", "Virgin Islands",
                                    "Washington", "West Virginia", "Wisconsin", "Wyoming"
                                ]);
                                break;
                            case 'type':
                                callback(abc);
                                break;
                            case 'country':
                                callback([
                                    "China", "India", "United States", "Indonesia", "Brazil",
                                    "Pakistan", "Bangladesh", "Nigeria", "Russia", "Japan",
                                    "Mexico", "Philippines", "Vietnam", "Ethiopia", "Egypt",
                                    "Germany", "Turkey", "Iran", "Thailand", "D. R. of Congo",
                                    "France", "United Kingdom", "Italy", "Myanmar", "South Africa",
                                    "South Korea", "Colombia", "Ukraine", "Spain", "Tanzania",
                                    "Sudan", "Kenya", "Argentina", "Poland", "Algeria",
                                    "Canada", "Uganda", "Morocco", "Iraq", "Nepal",
                                    "Peru", "Afghanistan", "Venezuela", "Malaysia", "Uzbekistan",
                                    "Saudi Arabia", "Ghana", "Yemen", "North Korea", "Mozambique",
                                    "Taiwan", "Syria", "Ivory Coast", "Australia", "Romania",
                                    "Sri Lanka", "Madagascar", "Cameroon", "Angola", "Chile",
                                    "Netherlands", "Burkina Faso", "Niger", "Kazakhstan", "Malawi",
                                    "Cambodia", "Guatemala", "Ecuador", "Mali", "Zambia",
                                    "Senegal", "Zimbabwe", "Chad", "Cuba", "Greece",
                                    "Portugal", "Belgium", "Czech Republic", "Tunisia", "Guinea",
                                    "Rwanda", "Dominican Republic", "Haiti", "Bolivia", "Hungary",
                                    "Belarus", "Somalia", "Sweden", "Benin", "Azerbaijan",
                                    "Burundi", "Austria", "Honduras", "Switzerland", "Bulgaria",
                                    "Serbia", "Israel", "Tajikistan", "Hong Kong", "Papua New Guinea",
                                    "Togo", "Libya", "Jordan", "Paraguay", "Laos",
                                    "El Salvador", "Sierra Leone", "Nicaragua", "Kyrgyzstan", "Denmark",
                                    "Slovakia", "Finland", "Eritrea", "Turkmenistan"
                                ], {preserveOrder: true});
                                break;
                        }
                    }
                }
            });
        });
    </script>

    <div class="twelve wide column" id="se-results">
        <div class="stats"  ng-show="(totalDocuments && totalDocuments > 0)">
            <ul class="filters-doc">

            </ul>
            <div class="ui items">
                <div class="ui item">
                    <div class="num-found">
                        <span class="num-found" ng-show="totalDocuments >=0"></span>
                    </div>

                    <div class="ui right floated settings-pp">
                        <div class="ui form results-per-page  left floated">
                            <div class="two fields">
                                <div class="field">
                                    <div class="ui selection dropdown pe-itemsPerPage" tabindex="0">
                                        <div class="default text">10</div>
                                        <i class="dropdown icon"></i>
                                        <input type="hidden" name="hidden-field">
                                        <div class="menu transition hidden" tabindex="-1">
                                            <div class="item active" data-value="10">10</div>
                                            <div class="item" data-value="20">20</div>
                                            <div class="item" data-value="50">50</div>
                                            <div class="item" data-value="100">100</div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="results-info ui left floated">Results per page</div>
                        <div class="ui settings right floated">
                            <div tabindex="0" class="ui yellow top left pointing dropdown icon button">
                                <i class="settings icon"></i>
                                <div tabindex="-1" class="menu transition hidden">
                                    <div class="item">
                                        <a href="#">Save Search</a>
                                    </div>
                                    <div class="item">
                                        <a href="#">Search Alerts</a>
                                    </div>
                                    <div class="item">
                                        <a href="#">Share Search</a>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>



    </div>


    <div class="ui four wide column rhr" style="display: none;">
        <div class="ui label sort-by">Sort by</div>
        <div class="ui yellow searchable floating dropdown labeled icon button sorting" tabindex="0">
            <i class="filter icon"></i>
            <span class="text" ng-model="selectSortings">Relevance</span>
            <div class="menu" tabindex="-1">
                <!--div class="header"> Sorting options </div

                <select title="{{'sorting.hint'|translate}}" class="sort-select" ng-model="selectSortings"
                        ng-options="s.sortOption | translate for s in sortings track by s.id">
                </select>-->

                <div class="item" ng-repeat="s in sortings track by s.id" ng-bind="s.sortOption"
                     data-value="{{s.sortId}}, {{s.defaultSort}}">
                    <!--<div class="ui green empty circular label"></div>-->
                    Relevance
                </div>
            </div>
        </div>
        <div class="asc-dec">
            <i class="sort content ascending icon" ng-class="{'active': sorting === 'ASC'}"  ng-click="setSorting('','ASC');"></i>
            <i class="sort content descending icon" ng-class="{'active': sorting === 'DESC'}" ng-click="setSorting('','DESC');"></i>
        </div>

        <div class="ui segment">
            <div class="ui top attached label">Filter by</div>
            <div class="facets-wrapper">

            </div>
        </div>
    </div>
</div>
